{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,IAAIC,EACAC,EACAC,EACAC,EAAa,EACbC,EAAW,GACf,MAAMC,EACN,CACEC,gBAAiBC,SAASC,cAAc,uBACxCC,UAAWF,SAASC,cAAc,sBAClCE,YAAaH,SAASC,cAAc,wBACpCG,WAAYJ,SAASC,cAAc,SACnCI,aAAcL,SAASC,cAAc,iBAsDvC,SAASK,EAAWC,EAAOC,EAAOC,GAChC,IAAK,IAAIC,EAAkB,EAAGA,GAAmBF,EAAQE,GAAmB,EAC1Ed,EAAkC,IAArBc,EAA0BH,EAAQX,GAAca,EAC7DZ,EAASc,KAAKf,E,CAvDlBE,EAAKM,WAAWQ,iBAAiB,UAEjC,SAAkBC,GAChBA,EAAEC,iBACFrB,EAAesB,OAAOjB,EAAKC,gBAAgBiB,OAC3CtB,EAAcqB,OAAOjB,EAAKI,UAAUc,OACpCrB,EAAgBoB,OAAOjB,EAAKK,YAAYa,OACxClB,EAAKO,aAAaY,aAAa,WAAY,IAC3CX,EAAWb,EAAcE,EAAcD,GACvCwB,QAAQC,IAAIb,GACZT,EAASuB,KAAI,CAACC,EAAOC,KAwBvB,IAAuBC,EAAUhB,GAAVgB,EAtBJD,EAAW,EAsBGf,EAtBCc,EAuBhB,IAAIG,SAAQ,CAACC,EAASC,KAEpC,MAAMC,EAAgBC,KAAKC,SAAW,GACtCX,QAAQC,IAAIQ,GACZG,YAAW,KACLH,EACFF,EAAQ,CAAEF,SAAUA,EAAUhB,MAAOA,IAErCmB,EAAO,CAAEH,SAAUA,EAAUhB,MAAOA,GAAQ,GAE7CA,EAAM,KAhCNwB,MAAK,EAACR,SAAEA,EAAQhB,MAAEA,MAEjBhB,EAAAyC,OAAOC,QAAQ,qBAAqBV,QAAehB,OACnDW,QAAQC,IAAI,uBAAqBI,QAAiBhB,MAAU,IAE7D2B,OAAM,EAACX,SAAEA,EAAQhB,MAAEA,MAClBW,QAAQC,IAAI,sBAAoBI,QAAehB,OAC/ChB,EAAAyC,OAAOG,QAAQ,oBAAoBZ,QAAehB,MAAU,GAC5D,IAENd,EAAe,EACfC,EAAc,EACdC,EAAgB,EAChBC,EAAa,EACbC,EAAW,GACXC,EAAKO,aAAa+B,gBAAgB,WAAY,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nlet delayPromise;\nlet stepPromise;\nlet amountPromise;\nlet delayCount = 0;\nlet delayArr = [];\nconst refs =\n{\n  inputFirstDelay: document.querySelector('input[name=\"delay\"]'),\n  inputStep: document.querySelector('input[name=\"step\"]'),\n  inputAmount: document.querySelector('input[name=\"amount\"]'),\n  submitForm: document.querySelector('.form'),\n  submitButton: document.querySelector('.form button'),\n};\nrefs.submitForm.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  delayPromise = Number(refs.inputFirstDelay.value);\n  stepPromise = Number(refs.inputStep.value);\n  amountPromise = Number(refs.inputAmount.value);\n  refs.submitButton.setAttribute('disabled', '');\n  fillDelArr(delayPromise, amountPromise,stepPromise);\n  console.log(fillDelArr);\n  delayArr.map((delay, position,) => {\n\n    createPromise((position + 1), delay)\n      .then(({ position, delay }) => {\n\n        Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n      });\n  });\n  delayPromise = 0;\n  stepPromise = 0;\n  amountPromise = 0;\n  delayCount = 0;\n  delayArr = [];\n  refs.submitButton.removeAttribute('disabled', '');\n};\n\n\n\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n\n    const shouldResolve = Math.random() > 0.3;\n    console.log(shouldResolve);\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position: position, delay: delay });\n      } else {\n        reject({ position: position, delay: delay });\n      }\n    }, delay);\n\n\n  })\n  return promise;\n}\n\nfunction fillDelArr(delay, amount,step) {\n  for (let positionPromise = 1; positionPromise <= amount; positionPromise += 1) {\n    delayCount = (positionPromise === 1) ? delay : delayCount += step;\n    delayArr.push(delayCount);\n  }\n};\n\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$delayPromise","$47d4ff9957288465$var$stepPromise","$47d4ff9957288465$var$amountPromise","$47d4ff9957288465$var$delayCount","$47d4ff9957288465$var$delayArr","$47d4ff9957288465$var$refs","inputFirstDelay","document","querySelector","inputStep","inputAmount","submitForm","submitButton","$47d4ff9957288465$var$fillDelArr","delay","amount","step","positionPromise","push","addEventListener","e","preventDefault","Number","value","setAttribute","console","log","map","delay1","position1","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","then","Notify","success","catch","failure","removeAttribute"],"version":3,"file":"03-promises.cd57d20e.js.map"}