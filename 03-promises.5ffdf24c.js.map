{"mappings":"gfAAA,IACIA,EAEAC,EAHJC,EAAAC,EAAA,SAIIC,EAAa,EACbC,EAAW,GACTC,EACN,CACAC,gBAAgBC,SAASC,cAAc,uBACvCC,UAAUF,SAASC,cAAc,sBACjCE,YAAYH,SAASC,cAAc,wBACnCG,WAAWJ,SAASC,cAAc,SAClCI,aAAaL,SAASC,cAAc,iBAEpCH,EAAKM,WAAWE,iBAAiB,UAEjC,SAAkBC,GAChBA,EAAEC,iBACFhB,EAAaiB,OAAOX,EAAKC,gBAAgBW,OAC7BD,OAAOX,EAAKI,UAAUQ,OAClCjB,EAAcgB,OAAOX,EAAKK,YAAYO,OACtCZ,EAAKO,aAAaM,aAAa,WAAY,IA4C7C,SAAoBC,EAAOC,GAC3B,IAAK,IAAIC,EAAkB,EAAGA,GAAmBD,EAAQC,GAAiB,EAC1ElB,EAAkC,IAArBkB,EAA0BF,EAAQhB,GAAYgB,EAC3Df,EAASkB,KAAKnB,E,CA9CZoB,CAAWxB,EAAcC,GACzBI,EAASoB,KAAI,SAACL,EAAOM,IAwBvB,SAAuBA,EAAUN,GAe/B,OAdgB,IAAIO,SAAQ,SAACC,EAAQC,GAEnC,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,QAAQC,IAAIJ,GACZK,YAAW,WACLL,EACFF,EAAQ,CAACF,SAASA,EAASN,MAAMA,IAEjCS,EAAO,CAACH,SAASA,EAASN,MAAMA,G,GAElCA,E,KAjCNgB,CAAeV,EAAS,EAAIN,GACzBiB,MAAK,SAAAC,G,IAAGC,EAAQD,EAARZ,SAAUc,EAAKF,EAALlB,MAEjBlB,EAAAuC,OAAOC,QAAQ,qBAAoCC,OAAfJ,EAAS,QAAYI,OAANH,EAAM,OACzDP,QAAQC,IAAI,uBAAwCS,OAAfJ,EAAS,QAAYI,OAANH,EAAM,M,IAE3DI,OAAM,SAAAN,G,IAAGC,EAAQD,EAARZ,SAAUc,EAAKF,EAALlB,MAClBa,QAAQC,IAAI,sBAAqCS,OAAfJ,EAAS,QAAYI,OAANH,EAAM,OACvDtC,EAAAuC,OAAOI,QAAQ,oBAAmCF,OAAfJ,EAAS,QAAYI,OAANH,EAAM,M,OAG1DxC,EAAe,EACD,EACdC,EAAc,EACdG,EAAa,EACbC,EAAW,GACXC,EAAKO,aAAaiC,gBAAgB,WAAY,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nlet delayPromise;\nlet stepPromise;\nlet amountPromise;\nlet delayCount = 0;\nlet delayArr = [];\nconst refs =\n{\ninputFirstDelay:document.querySelector('input[name=\"delay\"]'),\ninputStep:document.querySelector('input[name=\"step\"]'),\ninputAmount:document.querySelector('input[name=\"amount\"]'),\nsubmitForm:document.querySelector('.form'),\nsubmitButton:document.querySelector('.form button'),\n};\nrefs.submitForm.addEventListener(\"submit\",onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  delayPromise=Number(refs.inputFirstDelay.value);\n  stepPromise=Number(refs.inputStep.value);\n  amountPromise=Number(refs.inputAmount.value);\n  refs.submitButton.setAttribute('disabled', '');\n  fillDelArr(delayPromise, amountPromise);\n  delayArr.map((delay, position)=>{\n\ncreatePromise((position+1), delay)\n  .then(({ position, delay }) => {\n    \n    Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n    }); \n  });\n  delayPromise = 0;\n  stepPromise = 0;\n  amountPromise=0;\n  delayCount = 0;\n  delayArr = [];\n  refs.submitButton.removeAttribute('disabled', '');\n};\n\n\n\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve,reject) => {\n\n    const shouldResolve = Math.random() > 0.3;\n    console.log(shouldResolve);\n    setTimeout(()=>{\n      if (shouldResolve) {\n        resolve({position:position,delay:delay});\n      } else {\n        reject({position:position,delay:delay});\n      }\n    },delay);\n    \n\n  })\n  return promise;\n}\n\nfunction fillDelArr(delay, amount) {\nfor (let positionPromise = 1; positionPromise <= amount; positionPromise+=1) {\ndelayCount = (positionPromise === 1) ? delay : delayCount+=delay;\ndelayArr.push(delayCount);\n}\n};\n\n\n"],"names":["$ce04d3a99e08e73b$var$delayPromise","$ce04d3a99e08e73b$var$amountPromise","$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$delayCount","$ce04d3a99e08e73b$var$delayArr","$ce04d3a99e08e73b$var$refs","inputFirstDelay","document","querySelector","inputStep","inputAmount","submitForm","submitButton","addEventListener","e","preventDefault","Number","value","setAttribute","delay","amount","positionPromise","push","$ce04d3a99e08e73b$var$fillDelArr","map","position","Promise","resolve","reject","shouldResolve","Math","random","console","log","setTimeout","$ce04d3a99e08e73b$var$createPromise","then","param","_$position","_$delay","Notify","success","concat","catch","failure","removeAttribute"],"version":3,"file":"03-promises.5ffdf24c.js.map"}