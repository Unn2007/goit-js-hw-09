{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,IAAIC,EACAC,EACAC,EACAC,EAAa,EACbC,EAAW,GACf,MAAMC,EACN,CACAC,gBAAgBC,SAASC,cAAc,uBACvCC,UAAUF,SAASC,cAAc,sBACjCE,YAAYH,SAASC,cAAc,wBACnCG,WAAWJ,SAASC,cAAc,SAClCI,aAAaL,SAASC,cAAc,iBAEpCH,EAAKM,WAAWE,iBAAiB,UAEjC,SAAkBC,GAChBA,EAAEC,iBACFf,EAAagB,OAAOX,EAAKC,gBAAgBW,OACzChB,EAAYe,OAAOX,EAAKI,UAAUQ,OAClCf,EAAcc,OAAOX,EAAKK,YAAYO,OACtCZ,EAAKO,aAAaM,aAAa,WAAY,IA4C7C,SAAoBC,EAAOC,GAC3B,IAAK,IAAIC,EAAkB,EAAGA,GAAmBD,EAAQC,GAAiB,EAC1ElB,EAAkC,IAArBkB,EAA0BF,EAAQhB,GAAYgB,EAC3Df,EAASkB,KAAKnB,E,CA9CZoB,CAAWvB,EAAcE,GACzBE,EAASoB,KAAI,CAACC,EAAOC,KAwBvB,IAAuBC,EAAUR,GAAVQ,EAtBRD,EAAS,EAsBSP,EAtBLM,EAuBV,IAAIG,SAAQ,CAACC,EAAQC,KAEnC,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,QAAQC,IAAIJ,GACZK,YAAW,KACLL,EACFF,EAAQ,CAACF,SAASA,EAASR,MAAMA,IAEjCW,EAAO,CAACH,SAASA,EAASR,MAAMA,GAAO,GAEzCA,EAAM,KAhCTkB,MAAK,EAACV,SAAEA,EAAQR,MAAEA,MAEjBrB,EAAAwC,OAAOC,QAAQ,qBAAqBZ,QAAeR,OACnDe,QAAQC,IAAI,uBAAqBR,QAAiBR,MAAU,IAE7DqB,OAAM,EAACb,SAAEA,EAAQR,MAAEA,MAClBe,QAAQC,IAAI,sBAAoBR,QAAeR,OAC/CrB,EAAAwC,OAAOG,QAAQ,oBAAoBd,QAAeR,MAAU,GAC1D,IAEJnB,EAAe,EACfC,EAAc,EACdC,EAAc,EACdC,EAAa,EACbC,EAAW,GACXC,EAAKO,aAAa8B,gBAAgB,WAAY,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nlet delayPromise;\nlet stepPromise;\nlet amountPromise;\nlet delayCount = 0;\nlet delayArr = [];\nconst refs =\n{\ninputFirstDelay:document.querySelector('input[name=\"delay\"]'),\ninputStep:document.querySelector('input[name=\"step\"]'),\ninputAmount:document.querySelector('input[name=\"amount\"]'),\nsubmitForm:document.querySelector('.form'),\nsubmitButton:document.querySelector('.form button'),\n};\nrefs.submitForm.addEventListener(\"submit\",onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  delayPromise=Number(refs.inputFirstDelay.value);\n  stepPromise=Number(refs.inputStep.value);\n  amountPromise=Number(refs.inputAmount.value);\n  refs.submitButton.setAttribute('disabled', '');\n  fillDelArr(delayPromise, amountPromise);\n  delayArr.map((delay, position)=>{\n\ncreatePromise((position+1), delay)\n  .then(({ position, delay }) => {\n    \n    Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n    console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n  .catch(({ position, delay }) => {\n    console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n    Notify.failure(`Rejected promise ${position} in ${delay}ms`);\n    }); \n  });\n  delayPromise = 0;\n  stepPromise = 0;\n  amountPromise=0;\n  delayCount = 0;\n  delayArr = [];\n  refs.submitButton.removeAttribute('disabled', '');\n};\n\n\n\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve,reject) => {\n\n    const shouldResolve = Math.random() > 0.3;\n    console.log(shouldResolve);\n    setTimeout(()=>{\n      if (shouldResolve) {\n        resolve({position:position,delay:delay});\n      } else {\n        reject({position:position,delay:delay});\n      }\n    },delay);\n    \n\n  })\n  return promise;\n}\n\nfunction fillDelArr(delay, amount) {\nfor (let positionPromise = 1; positionPromise <= amount; positionPromise+=1) {\ndelayCount = (positionPromise === 1) ? delay : delayCount+=delay;\ndelayArr.push(delayCount);\n}\n};\n\n\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$delayPromise","$47d4ff9957288465$var$stepPromise","$47d4ff9957288465$var$amountPromise","$47d4ff9957288465$var$delayCount","$47d4ff9957288465$var$delayArr","$47d4ff9957288465$var$refs","inputFirstDelay","document","querySelector","inputStep","inputAmount","submitForm","submitButton","addEventListener","e","preventDefault","Number","value","setAttribute","delay","amount","positionPromise","push","$47d4ff9957288465$var$fillDelArr","map","delay1","position1","position","Promise","resolve","reject","shouldResolve","Math","random","console","log","setTimeout","then","Notify","success","catch","failure","removeAttribute"],"version":3,"file":"03-promises.119502f9.js.map"}